# Azure Cosmos DB : Partition Key Stats Aggregation in Synapse

**Chris Joakim, Microsoft, Cosmos DB Global Back Belt (GBB)**

This presentation: https://github.com/cjoakim/azure-cosmos-db-presentations/tree/main/partition_key_stats_logging

## The Cosmos DB Logging

Configure the Cosmos DB account to log to Azure Monitor.

<p align="center">
    <img src="../img/cosmos-db-diagnostic-settings-1.png" width="90%">
</p>

<p align="center">
    <img src="../img/cosmos-db-diagnostic-settings-2.png" width="90%">
</p>

## Azure Monitor - automated export to Azure Storage

Configure Azure Monitor to write to Azure Storage for long-term data retention.

<p align="center">
    <img src="../img/azure-monitor-export-everything-to-storage.png" width="90%">
</p>
